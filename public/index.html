<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brightness Profiler</title>

    <!-- Load dcraw.js -->
    <script src="https://cdn.jsdelivr.net/npm/dcraw"></script>
    <!-- Load geotiff.js -->
    <script async src="https://cdn.jsdelivr.net/npm/geotiff"></script>
    <!-- Load plotty.js -->
    <script src="plotty.min.js"></script>
    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <!-- Load custom script -->
    <script src="script.js"></script>

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Brightness plotter</h1>
    <p>Load a .tiff file to plot the brightness and get the max and min values.</p>
    <div class='grid-container'>
        <form class="input-form">
            <label for="CalibrationConstant">Calibration constant: </label><input type="number"
                name="CalibrationConstant" id="CalibrationConstant">
            <label for="ExposureTime">Exposure time: </label><input type="number" name="ExposureTime" id="ExposureTime">
            <label for="ApertureNumber">Aperture number: </label><input type="number" name="ApertureNumber"
                id="ApertureNumber">
            <label for="ISO">ISO: </label><input type="number" name="ISO" id="ISO">
        </form>
        <div class="input-container">
            <div class="drop-area" id="drop">
                <h5>Drop RAW files here</h5>
                <input type="file" id="files" name="files[]" multiple />
            </div>
            <div id="output"></div>
        </div>

        <div id="crosslines">
            <canvas id="plot" width="0px" height="0px"></canvas>
        </div>

        <div class='calculations' id='calculations'>
            <div>
                <label for="maxValue">Max Brighness difference = </label> <span id="maxValue"></span>
                <p class="info">Differences bigger than 7.9% are noticeable to the human eye.</p>
                <label for="uniformity">Uniformity = </label> <span id="uniformity"></span>
                <p class="info">And ideal uniformity is above 80%</p>
            </div>
        </div>
        <div class="chart-container" id="chart-container">
            <div id="graph" class="aGraph"></div>
            <div style="display: none;">
                <label for="myRange">Smoothing: </label>
                <div class="slidecontainer">
                    <input type="range" min="0" max="20" value="0" class="slider" id="myRange">
                </div>
            </div>

        </div>
    </div>
    <footer>
        Made by
        <author>
            Perre Verhoeven
        </author>
    </footer>
</body>

</html>